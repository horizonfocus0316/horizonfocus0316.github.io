<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>走進台灣散文作家：Scroll 敘事小展</title>
  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      color: #222;
      background: #f4f4f4;
      line-height: 1.6;
    }

    body {
      margin: 0;
    }

    header {
      padding: 3rem 10vw 2rem;
      background: #111;
      color: #f9f9f9;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    header h1 {
      margin: 0 0 0.5rem;
      font-size: 1.6rem;
    }

    header p {
      margin: 0;
      font-size: 0.95rem;
      opacity: 0.8;
    }

    main {
      padding: 2rem 10vw 4rem;
    }

    section {
      margin-bottom: 5rem;
    }

    h2 {
      margin-top: 0;
      font-size: 1.4rem;
    }

    /* ===== 1. Flip Cards：多位作家卡片 ===== */

    .flip-card-wrapper {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 80vh; /* 確保需要捲動才會進入視窗中間 */
    }

    .flip-card {
      width: 320px;
      height: 200px;
      perspective: 1000px;
    }

    .flip-card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 0.8s ease;
    }

    .flip-card.flipped .flip-card-inner {
      transform: rotateY(180deg);
    }

    .flip-card-face {
      position: absolute;
      inset: 0;
      backface-visibility: hidden;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 18px 35px rgba(0, 0, 0, 0.25);
    }

    .flip-card-front {
      background: url("https://images.pexels.com/photos/158607/cairn-fog-mystical-background-158607.jpeg?auto=compress&cs=tinysrgb&w=800")
        center / cover no-repeat;
      display: flex;
      align-items: flex-end;
      justify-content: flex-start;
      padding: 1rem;
      color: #fff;
    }

    .flip-card-front span {
      background: rgba(0, 0, 0, 0.6);
      padding: 0.4rem 0.7rem;
      border-radius: 999px;
      font-size: 0.9rem;
    }

    .flip-card-back {
      background: #ffffff;
      transform: rotateY(180deg);
      padding: 1.4rem;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .flip-card-back h3 {
      margin-top: 0;
      margin-bottom: 0.5rem;
    }

    .flip-card-back p {
      margin: 0;
      font-size: 0.95rem;
      color: #444;
    }

    .hint {
      font-size: 0.9rem;
      color: #666;
      margin-top: 0.5rem;
    }

    /* ===== 2. Focus Mode 章節高亮 ===== */

    .focus-section {
      padding: 2.5rem 2rem;
      border-radius: 18px;
      margin-bottom: 2.5rem;
      background: #ffffff;
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.05);
      opacity: 0.45;
      transform: scale(0.98);
      transition:
        opacity 0.4s ease,
        transform 0.4s ease,
        box-shadow 0.4s ease,
        filter 0.4s ease;
    }

    .focus-section.in-focus {
      opacity: 1;
      transform: scale(1);
      box-shadow: 0 14px 30px rgba(0, 0, 0, 0.16);
      filter: saturate(1.05);
    }

    .focus-section h3 {
      margin-top: 0;
      margin-bottom: 0.8rem;
    }

    /* ===== 3. 句子逐字出現 ===== */

    #typing-section {
      max-width: 780px;
    }

    .typing-block {
      margin-bottom: 2.2rem;
      padding: 1.6rem 1.4rem;
      border-radius: 16px;
      background: #ffffff;
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.06);
    }

    .typing-block h3 {
      margin: 0 0 0.6rem;
      font-size: 1.05rem;
      color: #333;
    }

    .typing-line {
      font-family: "Noto Serif TC", "Songti TC", serif;
      font-size: 1.02rem;
      letter-spacing: 0.03em;
      min-height: 1.6em; /* 預留高度，避免打字前版面跳動 */
      position: relative;
      white-space: pre-wrap;
    }

    .typing-line::after {
      content: "▍";
      position: absolute;
      right: -0.4rem;
      animation: caret-blink 0.8s steps(1, end) infinite;
      opacity: 0;
    }

    .typing-line.typing::after {
      opacity: 1; /* 只有打字時才顯示游標 */
    }

    @keyframes caret-blink {
      0%, 50% {
        opacity: 1;
      }
      50.01%, 100% {
        opacity: 0;
      }
    }

    footer {
      text-align: center;
      padding: 2rem 0 1rem;
      font-size: 0.85rem;
      color: #777;
    }

    @media (max-width: 768px) {
      header {
        padding-inline: 6vw;
      }

      main {
        padding-inline: 6vw;
      }

      .focus-section {
        padding-inline: 1.4rem;
      }

      .typing-block {
        padding-inline: 1.1rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>走進台灣散文作家：Scroll 敘事小展</h1>
    <p>
      跟著頁面慢慢往下捲，就像翻著一本散文選集：每一段，都在等待被看見的那一刻。
    </p>
  </header>

  <main>
    <!-- 1. Flip Cards：多位作家的小卡，一張張翻開 -->
    <section id="flip-card-section">
      <h2>翻開台灣散文作家的另一面</h2>
      <p class="hint">
        一張張往下滑，每到視線中央，就會翻開背後的小小介紹。
      </p>

      <div class="flip-card-wrapper">
        <div class="flip-card">
          <div class="flip-card-inner">
            <div class="flip-card-face flip-card-front">
              <span>張曉風</span>
            </div>
            <div class="flip-card-face flip-card-back">
              <h3>張曉風</h3>
              <p>
                常從廚房、院子、教室這些細碎場景出發，把看似普通的日常，
                寫成帶有溫度與重量的段落，讓人放心把心事暫時放在她的文字裡。
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="flip-card-wrapper">
        <div class="flip-card">
          <div class="flip-card-inner">
            <div class="flip-card-face flip-card-front">
              <span>吳明益</span>
            </div>
            <div class="flip-card-face flip-card-back">
              <h3>吳明益</h3>
              <p>
                透過昆蟲、河川、季風與潮汐，帶讀者重新學習「怎麼看」世界。
                自然不只是背景，而是記憶、歷史與人類選擇交會的場域。
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="flip-card-wrapper">
        <div class="flip-card">
          <div class="flip-card-inner">
            <div class="flip-card-face flip-card-front">
              <span>駱以軍</span>
            </div>
            <div class="flip-card-face flip-card-back">
              <h3>駱以軍</h3>
              <p>
                文字像巷弄一樣曲折，記憶與敘事碎片彼此碰撞。
                在那些忽明忽暗的段落中，讀者也跟著回頭檢查自己的童年與城市。
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="flip-card-wrapper">
        <div class="flip-card">
          <div class="flip-card-inner">
            <div class="flip-card-face flip-card-front">
              <span>鍾文音</span>
            </div>
            <div class="flip-card-face flip-card-back">
              <h3>鍾文音</h3>
              <p>
                以身體與旅程作為書寫起點，海成為情緒的隱喻。
                在離開與回望之間擺盪，讓遠行成為一種重新認識自己的方式。
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="flip-card-wrapper">
        <div class="flip-card">
          <div class="flip-card-inner">
            <div class="flip-card-face flip-card-front">
              <span>簡媜</span>
            </div>
            <div class="flip-card-face flip-card-back">
              <h3>簡媜</h3>
              <p>
                她的文字總是輕柔卻有穿透力，從女性的身體與日常出發，
                在沉靜的句子之間，緩緩說出關於失去、成長與愛的代價。
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="flip-card-wrapper">
        <div class="flip-card">
          <div class="flip-card-inner">
            <div class="flip-card-face flip-card-front">
              <span>楊索</span>
            </div>
            <div class="flip-card-face flip-card-back">
              <h3>楊索</h3>
              <p>
                在文學與思想之間穿梭，用冷靜而深刻的語言回望歷史。
                他的散文像細讀一份時代的旁白，提醒我們別忘了成為人的責任。
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 2. Focus Mode 章節：四位作家的閱讀節奏 -->
    <section id="focus-mode-section">
      <h2>在不同作家之間切換焦點</h2>
      <p class="hint">
        往下讀的時候，你會發現，有些段落特別像被輕輕打上聚光燈。
      </p>

      <article class="focus-section">
        <h3>張曉風：從日常小事，看到柔軟的重量</h3>
        <p>
          張曉風的散文，常從廚房、窗邊、課堂這些微小場景開始，
          慢慢推開到更大的世界。她把生活中看似微不足道的瞬間，
          轉成一種帶著溫度的思考。當這一段特別顯眼時，就像我們在翻閱她的作品：
          先停在生活的小細節上，才被帶往背後更大的價值與提問。
        </p>
      </article>

      <article class="focus-section">
        <h3>吳明益：在自然書寫裡練習凝視</h3>
        <p>
          吳明益常寫昆蟲、潮汐、季風與河川，他的散文讓人重新學習「怎麼看」。
          不是只看風景，而是看生態系彼此的牽連。當這一小節成為畫面中的焦點，
          其他段落暫時隱入背景，就像在田野裡專心盯著一隻甲蟲時，
          世界的喧鬧會慢慢退到遠方。
        </p>
      </article>

      <article class="focus-section">
        <h3>駱以軍：碎裂記憶與城市陰影</h3>
        <p>
          駱以軍的文字常像一條忽明忽暗的巷子，帶著斷裂的記憶與跳接的畫面。
          他寫家庭、寫童年、寫城市邊緣的種種不安，使散文成為一種「意識流」的探索。
          讓這段文字浮出畫面，就像在紛亂的訊息流裡，刻意停留在一塊陰影，
          承認那些不那麼平靜的情緒也值得被看見。
        </p>
      </article>

      <article class="focus-section">
        <h3>鍾文音：身體、海與遠行的書寫</h3>
        <p>
          鍾文音筆下的身體經驗、旅程與海洋意象，總帶著某種游移與不安定。
          她讓「旅行」不只是地理移動，而是對自我邊界的追問。
          當最後這個段落變得突出時，也像在閱讀她的作品：
          你會同時感到拉扯與召喚——離開熟悉的地方，卻也因此更靠近自己。
        </p>
      </article>
    </section>

    <!-- 3. 句子逐字出現：為每位作家保留一句話 -->
    <section id="typing-section">
      <h2>會想抄在筆記本上的一句話</h2>
      <p class="hint">
        當你滑過這些段落時，句子會像剛被寫上去一樣，一個字一個字浮現。
        你也可以換成自己真正喜歡、查好出處的句子。
      </p>

      <div class="typing-block">
        <h3>張曉風</h3>
        <p
          class="typing-line"
          data-text="有些日常瑣事，看起來微不足道，卻在多年之後成為我們懷念自己的方式。"
        ></p>
      </div>

      <div class="typing-block">
        <h3>吳明益</h3>
        <p
          class="typing-line"
          data-text="當你學會辨認一棵樹的名字，世界就不再只是風景，而是可以對話的存在。"
        ></p>
      </div>

      <div class="typing-block">
        <h3>駱以軍</h3>
        <p
          class="typing-line"
          data-text="記憶有時像一條巷子，我們只是偶爾路過，卻被某扇窗裡的光久久留住。"
        ></p>
      </div>

      <div class="typing-block">
        <h3>鍾文音</h3>
        <p
          class="typing-line"
          data-text="遠行不一定帶你去別的國度，有時只是把你從習慣的自己裡面，溫柔抽離。"
        ></p>
      </div>

      <div class="typing-block">
        <h3>簡媜</h3>
        <p
          class="typing-line"
          data-text="人一生要學會的，也許不是放下，而是在仍然牽掛時，依然願意好好生活。"
        ></p>
      </div>

      <div class="typing-block">
        <h3>楊索</h3>
        <p
          class="typing-line"
          data-text="歷史並不只寫在課本裡，它也刻在普通人的選擇與沉默裡。"
        ></p>
      </div>
    </section>
  </main>

  <footer>
    走進台灣散文作家：一頁一頁地，在捲動之間讀懂自己。
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      /* ===== 1. 多張 Flip Cards：各自捲到中間就翻面 ===== */
      const flipCards = document.querySelectorAll(".flip-card");

      if (flipCards.length > 0) {
        const flipObserver = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("flipped");
              }
            });
          },
          {
            threshold: 0.6, // 卡片有 60% 進入視窗，就視為在「中間附近」
          }
        );

        flipCards.forEach((card) => flipObserver.observe(card));
      }

      /* ===== 2. Focus Mode：目前視窗內的 section 高亮 ===== */
      const focusSections = document.querySelectorAll(".focus-section");

      if (focusSections.length > 0) {
        const focusObserver = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                focusSections.forEach((sec) =>
                  sec.classList.remove("in-focus")
                );
                entry.target.classList.add("in-focus");
              }
            });
          },
          {
            threshold: 0.6,
          }
        );

        focusSections.forEach((sec) => focusObserver.observe(sec));
      }

      /* ===== 3. 句子逐字出現：Scroll 觸發打字效果 ===== */
      const typingLines = document.querySelectorAll(".typing-line");

      function typeText(el) {
        if (el.dataset.typed === "true") return; // 已經打過就不重複
        const text = el.dataset.text || "";
        let index = 0;
        el.textContent = "";
        el.classList.add("typing");
        el.dataset.typed = "true";

        const speed = 45; // 每個字的間隔（毫秒）

        const timer = setInterval(() => {
          el.textContent += text.charAt(index);
          index += 1;
          if (index >= text.length) {
            clearInterval(timer);
            el.classList.remove("typing"); // 打完後游標消失
          }
        }, speed);
      }

      if (typingLines.length > 0) {
        const typingObserver = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                typeText(entry.target);
                typingObserver.unobserve(entry.target); // 每行只觸發一次
              }
            });
          },
          {
            threshold: 0.4,
          }
        );

        typingLines.forEach((line) => typingObserver.observe(line));
      }
    });
  </script>
</body>
</html>
