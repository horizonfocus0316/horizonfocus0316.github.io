<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ç‡ˆç´…é…’ç¶ çš„å¹´ä»£</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600;700;900&display=swap" rel="stylesheet">
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  
  <script src="https://cdn.tailwindcss.com"></script> 

  <style>
    /* =========================================
       1. å…¨åŸŸè®Šæ•¸èˆ‡åŸºç¤è¨­å®š (Global Settings)
       ========================================= */
    :root {
      --red: #970C10;
      --gold: #FFE87A;
      --body-text-size: clamp(1rem, 1.6vw, 1.3rem);
      --bg-dark: #000;
      --transition-slow: 1.2s cubic-bezier(0.22, 1, 0.36, 1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Noto Serif TC", serif;
      background: var(--bg-dark);
      color: #fff;
      overflow-x: hidden;
      animation: fadeInPage 1.5s ease-out;
    }

    @keyframes fadeInPage {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h1, h2, h3, h4, h5, p {
      font-weight: normal;
    }

    h5 {
      font-size: var(--body-text-size);
      font-weight: 500;
      line-height: 1.8;
      margin: 0;
      color: inherit;
    }
    
    .text-break {
        display: block;
        height: 1.5em; 
        content: "";
    }

    /* =========================================
       2. ç¬¬ä¸€å¹•ï¼šéœæ…‹ä¸»è¦–è¦º (Static Hero)
       ========================================= */
    .hero-static {
      position: relative;
      height: 100vh;
      width: 100%;
      background: url("assets/hero_bg.jpg") center center / cover no-repeat;
      display: flex;
      align-items: center;
      padding: 0 7vw;
      overflow: hidden;
    }

    /* èƒŒæ™¯ç–Šå±¤ */
    .hero-static::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(
        90deg, 
        rgba(151,12,16,0.85) 0%, 
        rgba(151,12,16,0.5) 50%, 
        rgba(0,0,0,0.1) 100%
      );
      z-index: 1;
    }
    .hero-static::after {
      content: "";
      position: absolute;
      inset: 0;
      background: url("assets/grain.png") repeat;
      opacity: 0.35;
      mix-blend-mode: overlay;
      pointer-events: none;
      z-index: 2;
    }
    
    /* ç–Šåœ¨èƒŒæ™¯ä¸Šçš„å»èƒŒäººç‰©åœ–å±¤ */
    .hero-image-overlay {
        position: absolute;
        right: 0;
        bottom: 0;
        z-index: 3;
        pointer-events: none;
        max-height: 95vh;
        width: clamp(400px, 60vw, 920px);
        opacity: 1;
        transition: opacity 1.5s ease;
    }

    .hero-image-overlay img {
        width: 100%;
        height: auto;
        display: block;
        object-fit: contain;
    }


    .hero-content {
      position: relative;
      z-index: 4;
      max-width: 720px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      height: 100%;
    }

    .hero-static h1 {
      font-size: clamp(3rem, 6vw, 5rem);
      font-weight: 900;
      color: var(--gold);
      margin-bottom: 1.5rem;
      letter-spacing: 0.05em;
      text-shadow: 0 4px 20px rgba(0,0,0,0.3);
      line-height: 1.1;
    }

    .hero-static h2 {
      font-size: clamp(1.4rem, 2.5vw, 2.2rem);
      font-weight: 700;
      color: rgba(255,255,255,0.95);
      margin-bottom: 2rem;
      text-shadow: 0 2px 10px rgba(0,0,0,0.4);
    }
    
    /* æ‰“å­—æ©Ÿæ•ˆæœæ¨£å¼ */
    .typewriter-line {
      display: inline-block;
      position: relative;
      min-height: 1em;
    }

    .typewriter-line.typing::after {
      content: "";
      position: absolute;
      right: -0.1em;
      top: 50%;
      transform: translateY(-50%);
      height: 1.2em;
      width: 2px;
      background: var(--gold);
      animation: caret-blink 0.8s steps(1) infinite;
    }

    .typewriter-line.done::after {
      animation: none;
      opacity: 0;
    }

    @keyframes caret-blink {
      0%, 49% { opacity: 1; }
      50%, 100% { opacity: 0; }
    }

    /* æ²å‹•æç¤º */
    .scroll-hint {
      position: absolute;
      bottom: 3rem;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.9rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.85);
      z-index: 4;
      pointer-events: none;
      animation: hint-float 2s ease-in-out infinite;
      opacity: 0;
      transition: opacity 1s ease;
    }
    
    .scroll-hint.visible {
      opacity: 1;
    }

    @keyframes hint-float {
      0% { transform: translate(-50%, 0); }
      50% { transform: translate(-50%, -10px); }
      100% { transform: translate(-50%, 0); }
    }
    
    /* ä¸»è¦–è¦ºå€å¡Šçš„è½‰å ´æŒ‰éˆ•æ¨£å¼ */
    .transition-cta {
      position: relative;
      z-index: 5; 
      margin-top: 2rem;
      padding: 1rem 3rem;
      background: transparent;
      border: 1px solid var(--gold);
      color: var(--gold);
      font-family: inherit;
      font-size: 1.1rem;
      font-weight: 600;
      letter-spacing: 0.15em;
      text-decoration: none;
      cursor: pointer;
      transition: all 0.4s ease;
      display: inline-block;
      opacity: 0;
    }

    .transition-cta:hover {
      background: rgba(255, 232, 122, 0.1);
      color: #fff;
      border-color: #fff;
    }

    .transition-cta.visible {
      opacity: 1;
      transform: translateY(0);
      transition-delay: 1s;
    }

    /* =========================================
       3. ç¬¬äºŒå¹•ï¼šæ²‰æµ¸å¼å°è®€ (Immersive Text)
       ========================================= */
    .immersive-section {
      background: #000;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 10vh 1.5rem;
      position: relative;
      overflow: hidden;
    }

    .immersive-inner {
      max-width: 700px;
      text-align: center;
      color: #fff;
      line-height: 2;
      font-size: var(--body-text-size);
      letter-spacing: 0.05em;
    }

    .immersive-copy {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    .immersive-copy h5 {
      color: rgba(255,255,255,0.95);
      letter-spacing: 0.06em;
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 1.2s ease-out, transform 1.2s ease-out;
    }

    .immersive-copy h5.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* =========================================
       4. ç¬¬ä¸‰å¹•ï¼šå½±ç‰‡æ­å¹• (Video Reveal)
       ========================================= */
    .reveal-video-wrapper {
      position: relative;
      width: 100%;
      height: 120vh;
      background: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .reveal-video-container {
      position: sticky;
      top: 0;
      width: 100%;
      height: 100vh;
      overflow: hidden;
    }

    .reveal-video-container video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: brightness(0.9) contrast(1.1); 
      transform: scale(1.05);
    }

    .reveal-video-container::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(
        180deg, 
        #000 0%, 
        transparent 15%, 
        transparent 85%, 
        #000 100%
      );
      pointer-events: none;
      z-index: 2;
    }

    /* å½±ç‰‡è²éŸ³æ§åˆ¶æŒ‰éˆ• */
    .video-control-btn {
      position: absolute;
      bottom: 4rem;
      right: 4rem;
      z-index: 20;
      background: rgba(0, 0, 0, 0.4);
      border: 1px solid rgba(255, 255, 255, 0.3);
      color: #fff;
      padding: 12px 24px;
      border-radius: 50px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 10px;
      font-family: "Noto Serif TC", serif;
      font-size: 0.95rem;
      letter-spacing: 0.15em;
      transition: all 0.3s ease;
      backdrop-filter: blur(8px);
    }

    .video-control-btn:hover {
      background: rgba(255, 255, 255, 0.15);
      border-color: #fff;
      transform: scale(1.05);
    }

    .video-control-btn .btn-icon {
      font-size: 1.1em;
    }
    
    /* =========================================
       5. Chapter Intro & Body (ç« ç¯€å°é¢ã€ç´…åº•å€ã€é»‘è† )
       ========================================= */
    .chapter-stack { position: relative; }

    .chapter-intro {
      position: sticky;
      top: 0;
      height: 100vh;
      min-height: 100vh;
      background: #111;
      overflow: hidden;
      z-index: 2;
    }

    .chapter-intro img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      transform: scale(1.02);
      transition: transform 10s ease-out;
    }

    .chapter-intro::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.1) 22%, transparent 55%); /* æŸ”åŒ–ç–Šå±¤ */
      pointer-events: none;
      z-index: 1;
    }

    .chapter-overlay {
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(8,8,8,0.08) 0%, rgba(8,8,8,0.55) 92%);
      z-index: 2;
    }
    
    /* èª¿æ•´æ¨™é¡Œä½ç½®ï¼Œç§»é™¤æ•¸å­— */
    .chapter-title {
      position: absolute;
      left: 6vw;
      bottom: 10vh; /* ç§»åˆ°åº•éƒ¨ï¼Œå‰µé€ é›»å½±å­—å¹•æ„Ÿ */
      transform: none;
      color: #fff;
      font-size: clamp(1.2rem, 3vw, 2.2rem);
      font-weight: 700;
      letter-spacing: 0.1em;
      max-width: 800px;
      line-height: 1.5;
      text-shadow: 0 4px 10px rgba(0,0,0,0.5);
      z-index: 5;
    }
    
    .chapter-body {
      position: relative;
      background: var(--red);
      color: #fff;
      min-height: 110vh;
      padding: clamp(80px, 12vh, 140px) clamp(6vw, 10vw, 12vw);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 3;
    }

    .chapter-body::before {
      content: "";
      position: absolute;
      inset: 0;
      background: url("assets/grain.png") repeat;
      opacity: 0.2;
      filter: blur(0.5px);
      pointer-events: none;
    }

    .chapter-body-inner {
      position: relative;
      width: min(1200px, 100%);
      display: flex;
      align-items: center;
      gap: clamp(3rem, 8vw, 6rem);
    }

    .chapter-text-block {
      flex: 1 1 55%;
      text-align: left;
      display: flex;
      flex-direction: column;
      gap: clamp(1.5rem, 3vw, 2rem);
    }

    .chapter-text-block h3 {
      font-size: clamp(1.5rem, 3vw, 2.8rem);
      color: var(--gold);
      font-weight: 700;
      letter-spacing: 0.1em;
      margin: 0;
    }

    .chapter-text-block h5 {
      color: rgba(255,255,255,0.95);
      text-align: justify;
      font-weight: 400;
    }

    /* é»‘è† å”±ç‰‡å€ (Vinyl Player) */
    .vinyl-column {
      flex: 1 1 45%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .vinyl-player { display: flex; flex-direction: column; align-items: center; gap: 2rem; }
    .vinyl-disc {
      width: clamp(200px, 28vw, 320px); height: clamp(200px, 28vw, 320px);
      border-radius: 50%; background: radial-gradient(circle at center, #1f1f1f 0%, #050505 60%, #000 100%);
      border: 8px solid #222; position: relative; display: flex; align-items: center; justify-content: center;
      box-shadow: 0 15px 40px rgba(0,0,0,0.5); animation: vinyl-spin 8s linear infinite; animation-play-state: paused;
      cursor: pointer; transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    .vinyl-disc:hover { transform: scale(1.02); border-color: #333; }
    .vinyl-disc::before, .vinyl-disc::after {
      content: ""; position: absolute; border-radius: 50%; border: 1px solid rgba(255,255,255,0.08);
    }
    .vinyl-disc::before { inset: 15%; }
    .vinyl-disc::after { inset: 35%; }
    .vinyl-label {
      width: 35%; height: 35%; border-radius: 50%;
      background: radial-gradient(circle, #b91c1c 0%, #741010 80%);
      border: 4px solid var(--gold); display: flex; flex-direction: column; align-items: center; justify-content: center;
      font-size: 0.75rem; text-align: center; letter-spacing: 0.1em; color: #ffe7a0; font-weight: 700;
      box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
    }
    .vinyl-disc.is-playing { animation-play-state: running; box-shadow: 0 20px 50px rgba(0,0,0,0.7); }
    .vinyl-cta {
      border: 1px solid rgba(255,255,255,0.4); background: transparent; color: var(--gold);
      padding: 12px 28px; letter-spacing: 0.2em; text-transform: uppercase; font-size: 0.8rem;
      cursor: pointer; transition: all 0.3s ease; font-family: inherit;
    }
    .vinyl-cta:hover { background: rgba(255,255,255,0.1); color: #fff; border-color: #fff; }
    @keyframes vinyl-spin { to { transform: rotate(360deg); } }

    /* =========================================
       6. Chapter 3 & 4 (æ•¸æ“šåœ–è¡¨æ¨£å¼)
       ========================================= */
    .data-section, .social-analysis {
        background: var(--bg-dark); 
        color: #fff;
        padding: clamp(60px, 12vh, 120px) clamp(6vw, 10vw, 12vw);
        max-width: 1400px;
        margin: 0 auto;
    }
    
    .data-section h3, .social-analysis h3 {
        color: var(--gold);
        font-size: clamp(1.8rem, 4vw, 3rem);
        margin-bottom: 2.5rem;
        text-align: center;
        letter-spacing: 0.1em;
    }

    .data-section h4, .social-analysis h4 {
        color: #fff;
        font-size: clamp(1.3rem, 2.5vw, 2rem);
        margin-top: 3rem;
        margin-bottom: 1rem;
        font-weight: 600;
        letter-spacing: 0.05em;
    }
    
    .data-text-paragraph, .social-text-paragraph {
        line-height: 2;
        font-size: var(--body-text-size);
        color: rgba(255, 255, 255, 0.85);
        margin-bottom: 1.5rem;
    }

    /* åœ–è¡¨å®¹å™¨æ¨£å¼ */
    .chart-container-wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        margin: 3rem 0;
        padding: 1.5rem;
        background: #1a1a1a; 
        border-radius: 12px;
        box-shadow: 0 0 20px rgba(0,0,0,0.5);
    }
    
    .chart-canvas {
        position: relative;
        width: 100%;
        max-width: 700px;
        height: 350px;
        margin: 0 auto;
    }

    /* åˆ—è¡¨æ¨£å¼ */
    .pseudo-kinship-list {
        list-style: none;
        padding-left: 0;
        margin-top: 1.5rem;
    }

    .pseudo-kinship-list li {
        margin-bottom: 1.5rem;
        padding-left: 20px;
        position: relative;
        line-height: 1.8;
        font-size: var(--body-text-size);
        color: rgba(255, 255, 255, 0.95);
    }

    .pseudo-kinship-list li::before {
        content: "â€”";
        color: var(--gold);
        font-weight: 700;
        position: absolute;
        left: 0;
    }

    /* =========================================
       7. é»‘è‰²éå ´èˆ‡å¼•è¨€ (Finale & Quote)
       ========================================= */
    .black-finale {
      background: #000;
      min-height: 100vh;
      display: grid;
      grid-template-columns: 1fr 1fr;
      width: 100%;
    }

    .finale-image {
      position: relative;
      min-height: 100vh;
      overflow: hidden;
    }

    .finale-image img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: grayscale(0.2);
    }

    .finale-text {
      background: #000;
      color: #fff;
      padding: clamp(60px, 12vh, 120px) clamp(6vw, 10vw, 12vw);
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 2rem;
      text-align: left;
    }

    .finale-text h3 {
      color: var(--gold);
      letter-spacing: 0.15em;
      font-size: 1.8rem;
      margin-bottom: 0.5rem;
    }

    .finale-text h4 {
      font-weight: 400;
      line-height: 1.9;
      color: #ddd;
      margin: 0;
      font-size: 1.1rem;
    }

    .black-quote {
      background: #000;
      min-height: 120vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: clamp(60px, 15vh, 140px) clamp(6vw, 12vw, 14vw);
    }

    .black-quote h3 {
      color: #fff;
      text-align: center;
      letter-spacing: 0.12em;
      line-height: 1.8;
      max-width: 900px;
      opacity: 0;
      transform: translateY(40px);
      transition: opacity 1.4s ease, transform 1.4s ease;
      font-size: clamp(1.6rem, 4vw, 3rem);
    }

    .black-quote h3.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .black-quote h3 span {
      transition: color 1s ease;
    }

    .black-quote h3.highlight span {
      color: var(--gold);
    }

    /* =========================================
       8. æ©«å‘æ²å‹•å€å¡Š (Horizontal Scrolls)
       ========================================= */
    .horizontal-scroll {
      position: relative;
      --panel-count: 3;
      height: calc(var(--panel-count) * 100vh);
      background: #000;
    }

    .horizontal-track {
      position: sticky;
      top: 0;
      height: 100vh;
      overflow: hidden;
      background: #000;
    }

    .scroll-panels {
      display: flex;
      width: calc(var(--panel-count) * 100vw);
      height: 100%;
      transition: transform 0.1s linear;
      will-change: transform;
    }

    .scroll-panel {
      width: 100vw;
      height: 100%;
      flex-shrink: 0;
      position: relative;
    }

    .panel-guobin { background: url("assets/oldmanhappy.jpg") center center / cover no-repeat; }
    .panel-boom { background: url("assets/theaters_boom.jpg") center center / cover no-repeat; }
    .panel-interior { background: url("assets/singing_hall_interior.jpg") center center / cover no-repeat; }

    .story-horizontal {
      position: relative;
      --panel-count: 6;
      height: calc(var(--panel-count) * 100vh);
      background: #000;
    }

    .story-track {
      position: sticky;
      top: 0;
      height: 100vh;
      overflow: hidden;
    }

    .story-panels {
      display: flex;
      width: calc(var(--panel-count) * 100vw);
      height: 100%;
      transition: transform 0.1s linear;
      will-change: transform;
    }

    .story-panel {
      width: 100vw;
      height: 100%;
      flex-shrink: 0;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: clamp(2rem, 6vw, 6rem);
      overflow: hidden;
    }

    .story-panel::before {
      content: "";
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center;
      transform: scale(1.1);
      filter: brightness(0.6);
      transition: transform 10s ease;
    }

    .story-panel.is-active::before { transform: scale(1.0); }

    .story-panel::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.3) 100%);
      z-index: 1;
    }

    .story-copy {
      position: relative;
      z-index: 2;
      max-width: min(680px, 85vw);
      text-align: center;
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      letter-spacing: 0.08em;
      line-height: 2;
      font-size: var(--body-text-size);
      text-shadow: 0 2px 4px rgba(0,0,0,0.5);
    }

    .story-line {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 1s ease-out, transform 1s ease-out;
    }

    .story-panel.is-active .story-line:nth-child(1) { transition-delay: 0.2s; opacity: 1; transform: translateY(0); }
    .story-panel.is-active .story-line:nth-child(2) { transition-delay: 0.5s; opacity: 1; transform: translateY(0); }
    .story-panel.is-active .story-line:nth-child(3) { transition-delay: 0.8s; opacity: 1; transform: translateY(0); }
    .story-panel.is-active .story-line:nth-child(4) { transition-delay: 1.1s; opacity: 1; transform: translateY(0); }

    .story-panel--xi::before { background-image: url("assets/ch1-00-ximending-street.jpg"); filter: brightness(0.5) sepia(0.2); }
    .story-panel--guobin::before { background-image: url("assets/ch1-01-guobin-exterior.jpg"); }
    .story-panel--songhall::before { background-image: url("assets/ch1-02-songhall-interior-wide.jpg"); }
    .story-panel--stage::before { background-image: url("assets/ch1-03-stage-close.jpg"); }
    .story-panel--hands::before { background-image: url("assets/ch1-04-red-envelope-hands.jpg"); filter: brightness(0.7); }
    .story-panel--audience::before { background-image: url("assets/ch1-05-audience-listening.jpg"); filter: brightness(0.5); }

    .story-panel--hands .hands-highlight {
      color: var(--gold);
      border-bottom: 1px solid var(--gold);
      padding-bottom: 2px;
    }

    /* =========================================
       9. çµå°¾éå ´ (Finale Sequence)
       ========================================= */
    .chapter-finale {
      position: relative;
      height: 100vh;
      background: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 0 6vw;
      overflow: hidden;
    }

    .chapter-finale p {
      font-size: clamp(1.2rem, 2.6vw, 2.2rem);
      letter-spacing: 0.1em;
      line-height: 2;
      color: #fff;
      max-width: 800px;
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 1.6s ease, transform 1.6s ease;
    }

    .chapter-finale.is-visible p { opacity: 1; transform: translateY(0); }
    .chapter-finale.slow p { transition-duration: 2.5s; }

    .finale-image-block {
      position: relative;
      height: 120vh;
      overflow: hidden;
      width: 100%;
    }

    /* çµå°¾åœ–ç‰‡å‹•ç•« (å¾€ä¸‹æ»‘æœƒæ”¾å¤§) */
    .finale-image-block img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      transform: scale(1.0); 
      transition: transform 0.1s linear; 
      will-change: transform;
    }

    .finale-image-block::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0.6) 100%);
    }

    /* =========================================
       10. åº•éƒ¨å°è¦½ (Footer Navigation)
       ========================================= */
    .next-chapter-section {
      padding: 120px 20px 160px;
      text-align: center;
      /* èª¿æ•´ç‚ºç´…é»‘æ¼¸è®Šé¢¨æ ¼ */
      background: linear-gradient(to top, rgba(151,12,16,0.85) 0%, #000 50%, #000 100%);
      position: relative;
    }

    .next-label {
      font-size: 0.85rem;
      color: #888;
      letter-spacing: 0.3em;
      margin-bottom: 40px;
      display: block;
      text-transform: uppercase;
    }

    .nav-buttons-container {
      display: flex;
      justify-content: center;
      gap: 40px;
      flex-wrap: wrap;
    }

    .nav-btn {
      text-decoration: none;
      border: 1px solid rgba(255, 255, 255, 0.2);
      padding: 20px 50px;
      color: #fff;
      font-family: "Noto Serif TC", serif;
      font-size: 1.1rem;
      letter-spacing: 0.15em;
      transition: all 0.4s ease;
      min-width: 220px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .nav-btn span {
      font-size: 0.65em;
      color: #666;
      margin-top: 8px;
      font-weight: 300;
      letter-spacing: 0.2em;
      transition: color 0.4s ease;
    }

    .btn-home:hover {
      border-color: #fff;
      background: rgba(255, 255, 255, 0.05);
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
    }

    .btn-next {
      background: rgba(255, 255, 255, 0.05);
    }

    .btn-next:hover {
      border-color: #c02828;
      background: rgba(192, 40, 40, 0.2);
      box-shadow: 0 0 40px rgba(192, 40, 40, 0.3);
    }

    .btn-next:hover span {
      color: rgba(255, 255, 255, 0.8);
    }
    
    .footer-info {
        margin-top: 5rem;
        color: #666;
        font-size: 0.85rem;
        line-height: 1.8;
    }

    /* =========================================
       11. éŸ¿æ‡‰å¼è¨­è¨ˆ (Responsive Design)
       ========================================= */
    @media (max-width: 1024px) {
      .black-finale { grid-template-columns: 1fr; }
      .finale-image { min-height: 50vh; }
      .finale-text { padding: 80px 6vw; }
      .chapter-body-inner { gap: 4rem; }
    }

    @media (max-width: 900px) {
      .chapter-body { padding: 80px 5vw; }
      .chapter-body-inner { flex-direction: column; text-align: center; }
      .chapter-text-block { text-align: center; }
      .chapter-text-block h5, .social-text-paragraph, .pseudo-kinship-list li { text-align: left; }
      .vinyl-column { width: 100%; margin-top: 2rem; }
      .nav-buttons-container { gap: 20px; }
      .nav-btn { width: 100%; }
      .chart-canvas { height: 300px; }
    }

    @media (max-width: 768px) {
      .hero-static { padding: 0 6vw; }
      .hero-static h1 { font-size: 2.8rem; margin-bottom: 1rem; }
      .hero-static h2 { font-size: 1.2rem; margin-bottom: 1.5rem; }
      
      .hero-image-overlay {
        width: 78vw;
        max-height: 60vh;
        right: -5vw;
        bottom: 1rem;
        opacity: 0.7;
      }
      
      .video-control-btn {
        bottom: 5rem;
        right: 1.5rem;
        padding: 10px 18px;
        font-size: 0.85rem;
      }
      
      .scroll-hint { bottom: 2.5rem; }
      
      .chapter-title {
        left: 5vw;
        font-size: 1.5rem;
        width: 80%;
      }
      
      .black-quote h3 {
        font-size: 1.4rem;
        line-height: 1.6;
      }
      
      .story-copy { font-size: 1rem; }
      
      .transition-cta {
          margin-top: 1.5rem;
          padding: 0.8rem 2rem;
          font-size: 1rem;
      }
      
      .chart-canvas { height: 250px; }
    }
  </style>
  <body>

  <section class="hero-static">
    <div class="hero-content">
      <h1 id="hero-title" class="typewriter-line" data-text="ç‡ˆç´…é…’ç¶ çš„å¹´ä»£"></h1>
      <h2 id="hero-subtitle" class="typewriter-line" data-text="ç´…åŒ…æ­Œæ‰‹çš„ä¸–ä»£èª¤è§£èˆ‡ç”Ÿå­˜ç¾å ´"></h2>
      
      <a href="#immersive-start" id="transition-cta" class="transition-cta">
        é–‹å§‹æ·±å…¥é–±è®€ &darr;
      </a>
    </div>
    
    <div class="hero-image-overlay">
      <img src="assets/hero_cover.png" alt="ç´…åŒ…å ´æ­Œæ‰‹è‹±å§¿">
    </div>
    
    <div id="scroll-hint" class="scroll-hint">SCROLL â†“</div>
  </section>

  <section class="immersive-section" id="immersive-start">
    <div class="immersive-inner">
      <div class="immersive-copy">
        <h5>å¤œæ™šçš„è¥¿é–€ç”ºç¸½å¸¶è‘—ä¸€ç¨®èªªä¸å‡ºçš„æ¿•æ°£ã€‚<br/></h5>
        <h5>å°å¤šæ•¸å¹´è¼•äººä¾†èªªï¼Œ<br/>ç´…åŒ…å ´å¯èƒ½æ˜¯é™Œç”Ÿã€ç”šè‡³å¸¶é»ç¥ç¥•è‰²å½©çš„å­˜åœ¨ã€‚</h5>
        <h5>ä½†åœ¨å°ç£çš„æŸæ®µæ­·å²è£¡ï¼Œå®ƒæ›¾æ˜¯ä¸Šè¬å€‹å­¤å–®éˆé­‚çš„æ­¸å±¬ï¼›</h5>
        <h5>æ˜¯ä¸€åº§ç”¨æ­Œè²èšèµ·çš„åº¶æ°‘åŠ‡é™¢ï¼›</h5>
        <h5>ä¹Ÿæ˜¯ä¸€å€‹å‹•ç›ªå¹´ä»£è£¡æœ€æº«æš–çš„é¿é¢¨æ¸¯ã€‚</h5>
      </div>
    </div>
  </section>

  <div class="reveal-video-wrapper">
    <section class="reveal-video-container">
      <video
        id="reveal-video"
        src="assets/stage.mp4"
        autoplay
        muted
        loop
        playsinline
        preload="auto">
      </video>
      
      <button id="unmute-btn" class="video-control-btn">
        <span class="btn-icon">ğŸ”‡</span>
        <span class="btn-text">é–‹å•Ÿè²éŸ³</span>
      </button>
    </section>
  </div>

  <div class="chapter-stack">
    <section class="chapter-intro">
      <img src="assets/red-envelope-theater.jpg" alt="ç´…åŒ…å ´å ´æ™¯">
      <div class="chapter-overlay"></div>
      <div class="chapter-title">ç‡ˆç´…é…’ç¶ çš„å¹´ä»£ â€” ç´…åŒ…å ´çš„èª•ç”Ÿèˆ‡ç¹è¯</div>
    </section>

    <section class="chapter-body">
      <div class="chapter-body-inner">
        <div class="chapter-text-block">
          <h3>ä¸€æ‰‡é–€ï¼Œé€šå¾€å¦ä¸€å€‹å¹´ä»£</h3>
          <h5>ç•¶ä½ æ­¥å‡ºè¥¿é–€ç”ºå…­è™Ÿå‡ºå£çš„å–§å›‚ï¼Œè½‰èº«è¸å…¥ä¸€æ£ŸèˆŠå¼å•†è¾¦å¤§æ¨“ï¼Œæ­ä¸Šé‚£éƒ¨ç•¥é¡¯é™³èˆŠçš„é›»æ¢¯ï¼Œå…­æ¨“çš„é–€ä¸€é–‹ï¼Œæ•´å€‹ä¸–ç•Œå½·å½¿ç¬é–“è¢«æŒ‰ä¸‹äº†å€’è½‰éµã€‚</h5>
          <h5>ç‰†ä¸Šå‹¾å‹’å‡ºã€Œé‡‘é‘½å¤§æ­Œå»³ã€çš„éœ“è™¹ç‡ˆæ¢é–ƒçˆè‘—æº«æ½¤çš„å…‰ï¼Œé‚£æ˜¯ç¶“ç‡Ÿè€…è¦ªæ‰‹è¨­è¨ˆçš„é¢¨æ™¯ï¼Œç‚ºé€™ç‰‡å¤©åœ°æ³¨å…¥äº†ç¬¬ä¸€ä»½å±¬æ–¼è‡ªå·±çš„æº«åº¦ã€‚</h5>
          <h5>ç©ºæ°£ä¸­æ··é›œè‘—ä¸€çµ²ç”œè†©çš„é¦™æ°´ã€èœé¤šçš„æ²¹é¦™ï¼Œä»¥åŠæ™‚é–“æ²‰æ¾±åœ¨ç´…çµ²çµ¨åº§æ¤…ä¸Šçš„é™³èˆŠæ°£å‘³ã€‚æ¨‚éšŠè€å¸«å€‘æ—©å·²å°±ä½ï¼Œè–©å…‹æ–¯é¢¨å¹å¥å‡ºçš„ï¼Œæ˜¯é„§éº—å›ã€æ˜¯é³³é£›é£›ï¼Œæ˜¯é‚£å€‹ä½ æˆ‘æˆ–è¨±æœªæ›¾è¦ªæ­·ï¼Œå»ç„¡æ¯”ç†Ÿæ‚‰çš„é»ƒé‡‘å¹´ä»£æ—‹å¾‹ã€‚</h5>
        </div>
        
        <div class="vinyl-column">
          <div class="vinyl-player">
            <div class="vinyl-disc" id="vinyl-disc">
              <div class="vinyl-label">
                ç¾¤æ˜Ÿæœƒ<br/>1970
              </div>
            </div>
            <button class="vinyl-cta" id="vinyl-toggle">é»æ“Šæ’­æ”¾æ™‚ä»£æ°›åœ</button>
            <audio id="vinyl-audio" src="assets/moon.mp3"></audio>
          </div>
        </div>
      </div>
    </section>
  </div>
  <section class="black-finale">
    <div class="finale-image">
      <img src="assets/lonely_man.jpg" alt="lonely man">
    </div>
    <div class="finale-text">
      <h3>ç´…åŒ…å ´ç‚ºä½•èª•ç”Ÿï¼Ÿ</h3>
      <h4>æ•…äº‹è¦å¾æ°‘åœ‹ä¸‰ã€å››åå¹´èªªèµ·ã€‚</h4>
      <h4>éš¨è‘—åœ‹æ°‘æ”¿åºœé·è‡ºï¼Œå¤§é‡éš¨è»ä¾†è‡ºçš„è»äººèˆ‡è»çœ·æ¹§å…¥å³¶å…§ã€‚å…¶ä¸­ï¼Œæœ‰ç›¸ç•¶æ¯”ä¾‹æ˜¯æœªå©šçš„å¤–çœç±ç”·æ€§ã€‚ä»–å€‘é›¢é–‹åŸé„‰ï¼Œå¤±å»äº†åŸæœ‰çš„ç¤¾æœƒç¶²çµ¡ï¼Œé•·æœŸå±…ä½åœ¨ç°¡é™‹çš„è‡¨æ™‚å®¿èˆæˆ–çœ·æ‘ï¼Œç”Ÿæ´»æ¢ä»¶æ‹®æ®ï¼Œç²¾ç¥ç‹€æ…‹äº¦é•·æœŸè™•æ–¼å­¤ç«‹ç‹€æ…‹ã€‚</h4>
      <h4>å°é€™ç¾¤äººè€Œè¨€ï¼Œå¨›æ¨‚ä¸åªæ˜¯æ¶ˆé£ï¼Œè€Œæ˜¯ä¸€ç¨®ç¶­ç¹«ç”Ÿæ´»å¹³è¡¡çš„å¿…è¦æ¢ä»¶ã€‚</h4>
    </div>
  </section>

  <section class="black-quote">
    <h3 id="quote-line">
      <span>å°é‚£äº›ä¸å±¬æ–¼æœ¬åœ°ã€ä¹Ÿæœªå¿…èƒ½æƒ³åƒæœªä¾†çš„äººä¾†èªªï¼Œ</span><br>
      <span>æ­Œå»³ï¼Œæ˜¯è®“è‡ªå·±ä¸é‚£éº¼å­¤å–®çš„åœ°æ–¹ã€‚</span>
    </h3>
  </section>

  <section class="horizontal-scroll" id="horizontal-scroll">
    <div class="horizontal-track">
      <div class="scroll-panels">
        <div class="scroll-panel panel-guobin"></div>
        <div class="scroll-panel panel-boom"></div>
        <div class="scroll-panel panel-interior"></div>
      </div>
    </div>
  </section>

  <section class="story-horizontal" id="story-horizontal">
    <div class="story-track">
      <div class="story-panels">
        <article class="story-panel story-panel--xi">
          <div class="story-copy">
            <p class="story-line">åœ¨é€™æ¨£çš„ç¤¾æœƒéœ€æ±‚ä¸‹ï¼Œ</p>
            <p class="story-line">è¥¿é–€ç”ºé€æ¼¸æˆç‚ºæ­Œè—å¨›æ¨‚ç”¢æ¥­çš„é›†æ•£åœ°ã€‚</p>
          </div>
        </article>
        <article class="story-panel story-panel--guobin">
          <div class="story-copy">
            <p class="story-line">æ°‘åœ‹äº”åå¹´ï¼Œé™³å¤§å…‰ã€æœ±è‰¯éˆã€æ–½æ˜­å…‰ä¸‰äºº</p>
            <p class="story-line">åœ¨æˆéƒ½è·¯ã€æ˜†æ˜è¡—å£çš„åœ‹è³“æˆ²é™¢äºŒæ¨“ï¼Œ</p>
            <p class="story-line">å‰µç«‹ã€åœ‹ä¹‹è³“å¤§æ­Œå»³ã€ã€‚</p>
            <p class="story-line">é€™è£¡ï¼Œè¢«è¦–ç‚ºæ—¥å¾Œç´…åŒ…å ´æ–‡åŒ–çš„é‡è¦æºé ­ã€‚</p>
          </div>
        </article>
        <article class="story-panel story-panel--songhall">
          <div class="story-copy">
            <p class="story-line">ä¸ƒå¹´å¾Œï¼Œè¥¿é–€ç”ºè¿ä¾†æ‰€è¬‚çš„ã€æ­Œå»³ç†±ã€ã€‚</p>
            <p class="story-line">å¤šå®¶å¤§å‹ã€è£æ½¢è¯éº—çš„æ­Œå»³é™¸çºŒé–‹å¹•ï¼Œ<br>æ­Œå”±è¡¨æ¼”å¾é›¶æ•£çš„ç§äººå¨›æ¨‚ï¼Œ<br>è½‰è®Šç‚ºå®šæ™‚ã€å®šé»ã€åˆ¶åº¦åŒ–çš„å•†æ¥­æ´»å‹•ã€‚</p>
            <p class="story-line">è¥¿é–€ç”ºåŠå…¶å‘¨é‚Šï¼Œ<br>è¿…é€Ÿæˆç‚ºå°åŒ—æœ€ç†±é¬§çš„åº¶æ°‘å¨›æ¨‚æ ¸å¿ƒã€‚</p>
          </div>
        </article>
        <article class="story-panel story-panel--stage">
          <div class="story-copy">
            <p class="story-line">é€™ç­†éŒ¢ï¼Œä¸¦éé¡å¤–å°è²»ï¼Œ<br>è€Œæ˜¯æ­Œæ˜Ÿæœ€ä¸»è¦çš„æ”¶å…¥ä¾†æºã€‚</p>
            <p class="story-line">ç´…åŒ…åˆ¶åº¦å½¢å¡‘äº†ä¸€ç¨®ç‰¹æ®Šçš„æƒ…æ„Ÿçµæ§‹ï¼š<br>æ­Œæ‰‹é ç´…åŒ…ç¶­ç”Ÿï¼›è§€çœ¾é€éç´…åŒ…ï¼Œ<br>ç¢ºèªè‡ªå·±è¢«è¨˜å¾—ã€è¢«ç†è§£ã€‚</p>
            <p class="story-line">é€™æ˜¯ä¸€ç¨®ç„¡è²çš„å¥‘ç´„ã€‚</p>
          </div>
        </article>
        <article class="story-panel story-panel--hands">
          <div class="story-copy">
            <p class="story-line">ç´…åŒ…å ´ä¹‹æ‰€ä»¥å¾—åï¼Œ<br>ä¾†è‡ªä¸€å€‹æ¥µç‚ºç›´æ¥ã€ä¹Ÿæ¥µç‚ºäººæ€§çš„äº’å‹•æ–¹å¼â€”â€”</p>
            <p class="story-line">è§€çœ¾å°‡å°æ­Œæ˜Ÿçš„å–œæ„›èˆ‡æ”¯æŒï¼Œ<br><span class="hands-highlight">è£é€²ç´…åŒ…è¢‹</span>ï¼Œ<br>è¦ªæ‰‹äº¤åˆ°æ­Œæ˜Ÿæ‰‹ä¸­ã€‚</p>
          </div>
        </article>
        <article class="story-panel story-panel--audience">
          <div class="story-copy">
            <p class="story-line">ç´…åŒ…å ´çš„æ¼”å‡ºå…§å®¹ï¼Œ<br>å¤šä»¥åœ‹èªæµè¡Œæ­Œæ›²ã€æ‡·èˆŠè€æ­Œç‚ºä¸»ã€‚</p>
            <p class="story-line">å°è¨±å¤šæ€é„‰çš„å¤–çœç±è§€çœ¾è€Œè¨€ï¼Œ<br>é€™äº›æ­Œæ›²ä¸åªæ˜¯æ—‹å¾‹ï¼Œ<br>è€Œæ˜¯ä¸€ç¨®æƒ…ç·’å‡ºå£â€”â€”</p>
            <p class="story-line">åœ¨æ”¿æ²»å‹•ç›ªã€åœ‹éš›å±€å‹¢ä¸å®‰çš„å¹´ä»£ï¼Œ<br>æ­Œè²ï¼Œæˆç‚ºæ’«æ…°äººå¿ƒçš„å­˜åœ¨ã€‚</p>
          </div>
        </article>
      </div>
    </div>
  </section>
  
  <div class="chapter-stack">
      <section class="chapter-intro">
        <img src="assets/red-envelope-theater.jpg" alt="Chapter 3 Cover">
        <div class="chapter-overlay"></div>
        <div class="chapter-title">å…¨ç››æ™‚æœŸçš„ç”¢æ¥­ç¶“æ¿Ÿå­¸ï¼šæ•¸æ“šèˆ‡ç”Ÿæ…‹</div>
      </section>
  </div>
  
  <section class="data-section">
    
    <h4>ç©ºé–“åˆ†ä½ˆèˆ‡æ•¸é‡è¦æ¨¡ï¼šè¥¿é–€ç”ºæ­Œå»³ç››è¡°åœ–</h4>
    <div class="data-text-paragraph">
        1980å¹´ä»£æ˜¯ç´…åŒ…å ´çš„é»ƒé‡‘æ™‚æœŸã€‚æ ¹æ“šè³‡æ·±æ¥­è€…èˆ‡æ–‡å²å·¥ä½œè€…çš„å›æ†¶ï¼Œç•¶æ™‚è¥¿é–€ç”ºæ¼¢ä¸­è¡—ã€æ­¦æ˜Œè¡—ä¸€å¸¶ï¼Œæ­Œå»³æ—ç«‹ï¼Œå…¨ç››æ™‚æœŸç´„æœ‰ 30 å®¶ ç‡Ÿæ¥­ï¼Œå–®æ—¥è¶…é 100 ä½ æ­Œæ‰‹è¼ªç•ªç™»å°ã€‚ä»¥ä¸‹åœ–è¡¨å±•ç¤ºæ­Œå»³æ•¸é‡å¾èŒèŠ½åˆ°å‡‹é›¶çš„æ­·å²è»Œè·¡ã€‚
    </div>
    
    <div class="chart-container-wrapper">
        <h5 class="text-xl font-serif text-gray-200 mb-4">è¥¿é–€ç”ºç´…åŒ…å ´/æ­Œå»³æ•¸é‡è®Šé· (1960 - 2024)</h5>
        <div class="chart-canvas">
            <canvas id="trendChart"></canvas>
        </div>
        <p class="text-xs text-gray-500 mt-4">è³‡æ–™ä¾†æºï¼šæ–‡å²å ±å°èˆ‡è³‡æ·±æ¥­è€…å›æ†¶æ•´ç†</p>
    </div>

    <div class="data-text-paragraph">
        è¥¿é–€ç”ºçš„ã€Œç´…åŒ…å ´ç¶“æ¿Ÿåœˆã€é¤Šæ´»äº†å¤§é‡çš„å‘¨é‚Šç”¢æ¥­ã€‚ä¾‹å¦‚ï¼Œæ­Œè¿·æœƒåœ¨æ­Œæ‰‹ç”Ÿæ—¥æ™‚è¨‚è³¼å·¨å¤§çš„èŠ±ç±ƒèˆ‡èŠ±åœˆï¼Œç”šè‡³æ²¿è‘—æ¨“æ¢¯æ“ºæ”¾è‡³èˆå°ï¼Œå½¢æˆå£¯è§€çš„ã€ŒèŠ±æµ·éš§é“ã€ã€‚æ­¤å¤–ï¼Œæ­Œæ‰‹å°è¯éº—ç¦®æœçš„éœ€æ±‚ï¼Œä¹Ÿå¸¶å‹•äº†å‘¨é‚Šæ——è¢åº—èˆ‡ç å¯¶éŠ€æ¨“çš„ç”Ÿæ„ã€‚
    </div>

    <h4>ç´…åŒ…ç¶“æ¿Ÿå­¸ï¼šæ¶ˆè²»çµæ§‹èˆ‡æ”¶å…¥åˆ†æ</h4>
    <div class="data-text-paragraph">
        ç´…åŒ…å ´çš„ç¶“æ¿Ÿé‚è¼¯å»ºç«‹åœ¨ã€Œéå¼·åˆ¶æ€§æ¶ˆè²»ã€ä¸Šã€‚æ­Œæ‰‹ç”šè‡³æ²’æœ‰åº•è–ªï¼Œå®Œå…¨ä¾è³´è§€çœ¾çš„ç´…åŒ…ã€‚ç´…åŒ…çš„é‡‘é¡å’Œçµ¦äºˆæ–¹å¼ï¼ŒåŒæ™‚ä»£è¡¨äº†è§€çœ¾çš„è²¡åŠ›ï¼Œå’Œå°æ­Œæ‰‹çš„æƒ…æ„ŸæŠ•å°„ã€‚
    </div>
    
    <div class="chart-container-wrapper">
        <h5 class="text-xl font-serif text-gray-200 mb-4">ç´…åŒ…æ”¶å…¥çµæ§‹ vs. åŸºæœ¬æ¶ˆè²» (å…¨ç››æ™‚æœŸæ¨ä¼°)</h5>
        <div class="chart-canvas w-full max-w-sm h-72">
            <canvas id="incomeChart"></canvas>
        </div>
        <p class="text-xs text-gray-500 mt-4">è¨»ï¼šç´…ç‰Œæ­Œæ‰‹æ—¥æ”¶å¯é” NT$40,000-50,000ï¼Œé‡‘é¡ä¾†è‡ªç´…åŒ…åˆ†æˆã€‚</p>
    </div>

    <div class="data-text-paragraph">
        é€™ç¨®æ¨¡å¼æ¥µåº¦ä¾è³´æ­Œæ‰‹èˆ‡è§€çœ¾ä¹‹é–“çš„ç§äººé—œä¿‚ã€‚ç‚ºäº†ç²å¾—ç´…åŒ…ï¼Œæ­Œæ‰‹å¿…é ˆåœ¨èˆå°ä¸‹é€²è¡Œå¤§é‡çš„ç¤¾äº¤å‹å‹•ï¼ˆSocial Laborï¼‰ï¼Œè¨˜ä½å®¢äººçš„å–œå¥½ã€å®¶é„‰ã€ç”Ÿæ—¥ï¼Œç”šè‡³åœ¨å°ä¸‹é™ªä¼´èŠå¤©ã€‚é€™æ˜¯ä¸€ç¨®è¶…è¶Šé‡‘éŒ¢çš„**æƒ…æ„Ÿå¥‘ç´„**ã€‚
    </div>
  </section>
  <div class="chapter-stack">
      <section class="chapter-intro">
        <img src="assets/red-envelope-theater.jpg" alt="Chapter 4 Cover">
        <div class="chapter-overlay"></div>
        <div class="chapter-title">ç¤¾æœƒå­¸åˆ†æï¼šæ¦®æ°‘ã€æ“¬è¦ªå±¬é—œä¿‚èˆ‡æƒ…æ„Ÿçµæ§‹</div>
      </section>
  </div>

  <section class="social-analysis">
    
    <h4>äººå£çµæ§‹èˆ‡ã€Œå­¤ç¨ç¶“æ¿Ÿã€</h4>
    <div class="social-text-paragraph">
        ç´…åŒ…å ´çš„ä¸»è¦æ¶ˆè²»è€…æ˜¯ã€Œè€å…µã€æˆ–ã€Œæ¦®æ°‘ã€ã€‚é€™ç¾¤äººåœ¨å¹´è¼•æ™‚éš¨è»ä¾†å°ï¼Œè¨±å¤šäººçµ‚èº«æœªå©šï¼Œæˆ–å°‡å¦»å…’ç•™åœ¨äº†å¤§é™¸ã€‚æ ¹æ“šè³‡æ–™ï¼Œè¬è¯å€å› æœ‰çœ·æ‘èšé›†å¤§é‡æ¦®æ°‘äººå£ã€‚ç„¶è€Œï¼Œéš¨è‘—æ™‚é–“æ¨ç§»ï¼Œæ ¸å¿ƒå®¢ç¾¤æ­£å¿«é€Ÿå‡‹é›¶ã€‚
    </div>
    
    <div class="chart-container-wrapper">
        <h5 class="text-xl font-serif text-gray-200 mb-4">è¬è¯å€ç¸½äººå£æ•¸è®Šé· (1991 - 2021)</h5>
        <div class="chart-canvas">
            <canvas id="populationChart"></canvas>
        </div>
        <p class="text-xs text-gray-500 mt-4">è³‡æ–™ä¾†æºï¼šå…§æ”¿éƒ¨æˆ¶æ”¿å¸ã€é€€è¼”æœƒè³‡æ–™æ•´ç†</p>
    </div>

    <div class="social-text-paragraph">
        å°æ–¼é€™ç¾¤ç”Ÿæ´»åœ¨çœ·æ‘æˆ–å–®èº«å®¿èˆçš„è€å…µè€Œè¨€ï¼Œç´…åŒ…å ´ä¸åƒ…æ˜¯å¨›æ¨‚å ´æ‰€ï¼Œæ›´æ˜¯ã€Œæƒ…æ„Ÿçš„é¿é¢¨æ¸¯ã€ã€‚ä»–å€‘åœ¨é€™è£¡èŠ±è²»é€€ä¼‘é‡‘ï¼Œè³¼è²·çš„ä¸åƒ…æ˜¯æ­Œæ›²ï¼Œæ›´æ˜¯ã€Œå°Šåš´ã€èˆ‡ã€Œè¦ªæƒ…ã€ã€‚
    </div>
    
    <h4>ã€Œä¹¾çˆ¹ã€èˆ‡ã€Œå¥³å…’ã€ï¼šæ“¬è¦ªå±¬é—œä¿‚çš„å»ºç«‹</h4>
    <div class="social-text-paragraph">
        ç´…åŒ…å ´æœ€ç¨ç‰¹çš„ç¤¾æœƒå­¸ç¾è±¡ï¼Œæ˜¯æ­Œæ‰‹èˆ‡è§€çœ¾ä¹‹é–“ç™¼å±•å‡ºçš„ã€Œæ“¬è¦ªå±¬é—œä¿‚ã€ï¼ˆPseudo-kinshipï¼‰ã€‚è¨±å¤šè€å…µå°‡å¹´è¼•çš„å¥³æ­Œæ‰‹èªä½œã€Œä¹¾å¥³å…’ã€ï¼ˆä¹¾çˆ¹-ä¹¾å¥³å…’é—œä¿‚ï¼‰ã€‚
    </div>
    
    <ul class="pseudo-kinship-list">
        <li>æƒ…æ„ŸæŠ•å°„ï¼šå°æ–¼ç„¡å­å—£æˆ–å­å¥³ä¸åœ¨èº«é‚Šçš„è€å…µï¼Œæ­Œæ‰‹å¡«è£œäº†ã€Œå¥³å…’ã€çš„è§’è‰²ç©ºç¼ºã€‚</li>
        <li>ç›¸äº’ä¾å­˜ï¼šé•·æœŸæ§å ´ä¸‹ï¼Œé›™æ–¹é—œä¿‚è¶…è¶Šäº†è²·è³£ï¼Œè®Šå¾—åƒè€å‹ç”šè‡³è¦ªäººã€‚æœ‰æ­Œæ‰‹æœƒç…§é¡§ç”Ÿç—…çš„è€å®¢äººï¼Œè€å®¢äººå‰‡å°‡æ­Œæ‰‹è¦–ç‚ºç²¾ç¥å¯„è¨—ã€‚</li>
        <li>æ¬ŠåŠ›å±•æ¼”ï¼šé€éè´ˆé€ç´…åŒ…ï¼Œç¤¾æœƒåœ°ä½é‚Šç·£çš„è€å…µå¾—ä»¥åœ¨æ­Œå»³é€™å€‹å°é–‰ç©ºé–“å…§ï¼Œå±•ç¾ã€Œæ–½äºˆè€…ã€çš„æ¬ŠåŠ›èˆ‡æ…·æ…¨ï¼Œç²å¾—çŸ­æš«çš„ç¤¾æœƒè‚¯å®šã€‚</li>
    </ul>
    
    <h4>å…©å²¸é–‹æ”¾çš„çµæ§‹æ€§è¡æ“Š</h4>
    <div class="social-text-paragraph">
        1987å¹´å…©å²¸é–‹æ”¾æ¢è¦ªï¼Œæ˜¯ç´…åŒ…å ´èµ°å‘è¡°è½çš„é—œéµè½‰æŠ˜é»ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œè€å…µå€‘èªç‚ºæ­¸é„‰ç„¡æœ›ï¼Œä¾¿å°‡ç©è“„æ¯«ç„¡ä¿ç•™åœ°æŠ•å…¥ç´…åŒ…å ´ï¼Œå°‹æ±‚å¿ƒéˆæ…°è—‰ã€‚é–‹æ”¾æ¢è¦ªå¾Œï¼Œè€å…µå€‘å¾—ä»¥è¯ç¹«ä¸Šå¤§é™¸çš„çœŸè¦ªå±¬ï¼Œè³‡é‡‘æµå‘éš¨ä¹‹æ”¹è®Šï¼Œç´…åŒ…é‡‘é¡å¤§å¹…ç¸®æ°´ï¼Œå¾æ•¸åƒå…ƒé™è‡³ä¸€å…©ç™¾å…ƒã€‚é€™è­‰æ˜äº†ç´…åŒ…å ´çš„ç¹æ¦®å¯¦å‰‡æ˜¯å»ºç«‹åœ¨ã€Œé›¢æ•£ã€ï¼ˆDiasporaï¼‰èˆ‡ã€Œå°é–‰ã€çš„ç‰¹æ®Šæ­·å²æƒ…å¢ƒä¹‹ä¸Šã€‚
    </div>
  </section>

  <section class="chapter-finale" data-finale="intro">
    <p>ç´…åŒ…å ´çš„ç‡ˆå…‰æˆ–è¨±å·²ç¶“é»¯æ·¡ï¼Œ<br>ä½†é‚£å€‹å¹´ä»£é€éæ­Œè²å»ºç«‹çš„çœŸæ‘¯æƒ…æ„Ÿï¼Œ<br>å°‡æ°¸é æ˜¯é€™åº§åŸå¸‚æœ€æº«æš–çš„è¿´éŸ¿ã€‚</p>
  </section>

  <section class="finale-image-block" data-finale="image-decline">
    <img id="finale-img-1" src="assets/ch1-06-closed-songhall-night.jpg" alt="closed songhall night">
  </section>

  <section class="chapter-finale" data-finale="middle">
    <p>é³³å‡°æ­Œå»³ç†„ç‡ˆå¾Œï¼Œ<br>é‡‘é‘½æ­Œå»³æˆç‚ºå°ç£ç›®å‰å”¯ä¸€ä¸€å®¶ä»¥ã€Œç´”ç´…åŒ…å ´ã€å½¢å¼é‹ä½œçš„æ­Œå»³ã€‚</p>
  </section>

  <section class="finale-image-block" data-finale="image-warm">
    <img id="finale-img-2" src="assets/ch1-07-jinzuan-stage-empty.jpg" alt="jinzuan stage empty">
  </section>

  <section class="chapter-finale slow" data-finale="closing">
    <p>èˆå°çš„ç‡ˆå…‰æœƒç†„æ»…ï¼Œä½†æƒ…æ„Ÿä¸æœƒã€‚<br>å°é‚£äº›ä¸åœ¨å ´çš„äººä¾†èªªï¼Œ<br>æ¯ä¸€é¦–è€æ­Œï¼Œéƒ½æ›¾æ˜¯ä»–å€‘ç”Ÿå‘½ä¸­æœ€æº«æš–çš„è¿´éŸ¿ã€‚</p>
  </section>

  <div class="next-chapter-section">
    <span class="next-label">CONTINUE READING</span>
    <div class="nav-buttons-container">
      <a href="../index.html" class="nav-btn btn-home">
        å›å°ˆé¡Œé¦–é 
        <span>BACK TO HOME</span>
      </a>
      <a href="../chapter2/index.html" class="nav-btn btn-next">
        ä¸‹ä¸€ç« ï¼šéœ“è™¹ç‡ˆä¸‹çš„çµ„æˆ
        <span>CHAPTER 02 &rarr;</span>
      </a>
    </div>
    
    <div class="footer-info">
        <p>ã€Œå°åŒ—åƒ…å­˜çš„ç´…åŒ…å ´ã€å°ˆæ¡ˆå°çµ„</p>
        <p>æ¢æœå‹›ã€å½­è³€ç³ã€èŠé¦¨äºˆ</p>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      
      // === 1. æ‰“å­—æ©Ÿç‰¹æ•ˆ (Typewriter Effect) ===
      const titleEl = document.getElementById("hero-title");
      const subtitleEl = document.getElementById("hero-subtitle");
      const scrollHint = document.getElementById("scroll-hint");
      const transitionCta = document.getElementById("transition-cta");
      const typeTargets = [titleEl, subtitleEl];

      typeTargets.forEach((el) => {
        const text = el.dataset.text || el.textContent.trim();
        el.dataset.text = text;
        el.textContent = "";
      });

      const typeText = (el, speed = 100) =>
        new Promise((resolve) => {
          const text = el.dataset.text || "";
          let index = 0;
          el.classList.add("typing");
          const tick = () => {
            el.textContent += text.charAt(index);
            index += 1;
            if (index < text.length) {
              setTimeout(tick, speed);
            } else {
              el.classList.remove("typing");
              el.classList.add("done");
              resolve();
            }
          };
          tick();
        });

      const startSequence = async () => {
        
        await new Promise(r => setTimeout(r, 600));
        
        for (const el of typeTargets) {
          await typeText(el);
        }
        
        requestAnimationFrame(() => {
          if (scrollHint) scrollHint.classList.add("visible");
          if (transitionCta) transitionCta.classList.add("visible");
        });
        
        if(transitionCta) {
          transitionCta.addEventListener('click', (e) => {
            e.preventDefault();
            const target = document.getElementById('immersive-start');
            if(target) {
              target.scrollIntoView({ behavior: 'smooth' });
            }
          });
        }
      };

      startSequence();

      // === 2. æ²‰æµ¸å¼æ–‡å­—æ·¡å…¥ (Immersive Text Fade) ===
      const narrativeLines = document.querySelectorAll(".immersive-copy h5");
      if (narrativeLines.length) {
        const narrativeObserver = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                narrativeLines.forEach((line, idx) => {
                  line.style.transitionDelay = `${idx * 150}ms`;
                  requestAnimationFrame(() => line.classList.add("visible"));
                });
                narrativeObserver.disconnect();
              }
            });
          },
          { threshold: 0.2 }
        );
        narrativeObserver.observe(narrativeLines[0]);
      }

      // === 3. å½±ç‰‡è²éŸ³æ§åˆ¶ (Video Audio Control) ===
      const revealVideo = document.getElementById("reveal-video");
      const unmuteBtn = document.getElementById("unmute-btn");

      if (revealVideo && unmuteBtn) {
        unmuteBtn.addEventListener("click", () => {
          if (revealVideo.muted) {
            revealVideo.muted = false;
            unmuteBtn.innerHTML = '<span class="btn-icon">ğŸ”Š</span><span class="btn-text">é—œé–‰è²éŸ³</span>';
            revealVideo.play().catch(e => console.error("æ’­æ”¾å¤±æ•—:", e));
          } else {
            revealVideo.muted = true;
            unmuteBtn.innerHTML = '<span class="btn-icon">ğŸ”‡</span><span class="btn-text">é–‹å•Ÿè²éŸ³</span>';
          }
        });
      }

      // === 4. é»‘è† å”±ç‰‡æ’­æ”¾å™¨ (Vinyl Player) ===
      const vinylDisc = document.getElementById("vinyl-disc");
      const vinylToggle = document.getElementById("vinyl-toggle");
      const vinylAudio = document.getElementById("vinyl-audio");

      if (vinylDisc && vinylToggle && vinylAudio) {
        const updateVinylState = () => {
          if (vinylAudio.paused) {
            vinylDisc.classList.remove("is-playing");
            vinylToggle.textContent = "é»æ“Šæ’­æ”¾æ™‚ä»£æ°›åœ";
          } else {
            vinylDisc.classList.add("is-playing");
            vinylToggle.textContent = "é»æ“Šæš«åœæ™‚ä»£æ°›åœ";
          }
        };

        const toggleVinyl = () => {
          if (vinylAudio.paused) {
            vinylAudio.play().catch(() => {});
          } else {
            vinylAudio.pause();
          }
          updateVinylState();
        };

        vinylDisc.addEventListener("click", toggleVinyl);
        vinylToggle.addEventListener("click", toggleVinyl);
        
        vinylAudio.addEventListener("ended", () => {
          vinylAudio.pause();
          vinylAudio.currentTime = 0;
          updateVinylState();
        });
        
        vinylAudio.addEventListener("pause", updateVinylState);
        vinylAudio.addEventListener("play", updateVinylState);
        
        updateVinylState();
      }

      // === 5. é‡‘å¥ç‰¹æ•ˆ (Quote Highlight) ===
      const quoteLine = document.getElementById("quote-line");
      if (quoteLine) {
        const quoteObserver = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                quoteLine.classList.add("visible");
                setTimeout(() => quoteLine.classList.add("highlight"), 800);
                quoteObserver.disconnect();
              }
            });
          },
          { threshold: 0.6 }
        );
        quoteObserver.observe(quoteLine);
      }

      // === 6. çµå°¾æ·¡å…¥ç‰¹æ•ˆ (Finale Fade-in) ===
      const finaleSections = document.querySelectorAll("[data-finale]");
      if (finaleSections.length) {
        const finaleObserver = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("is-visible");
              }
            });
          },
          { threshold: 0.35 }
        );
        finaleSections.forEach((section) => finaleObserver.observe(section));
      }

      // === 7. æ©«å‘æ²å‹• A & B é‚è¼¯ (Horizontal Scroll) ===
      const horizontalScroll = document.getElementById("horizontal-scroll");
      const storyHorizontal = document.getElementById("story-horizontal");

      const setupHorizontalScroll = (element) => {
        if (!element) return;
        const panelsWrapper = element.querySelector(".scroll-panels") || element.querySelector(".story-panels");
        const panels = Array.from(panelsWrapper ? panelsWrapper.children : []).length;

        if (panels > 0) {
          element.style.setProperty("--panel-count", panels);

          const handleScroll = () => {
            const startOffset = element.offsetTop;
            const totalScrollable = element.offsetHeight - window.innerHeight;
            
            if (totalScrollable <= 0) return;
            
            const scrollY = window.scrollY || window.pageYOffset;
            const current = Math.min(Math.max(scrollY - startOffset, 0), totalScrollable);
            const progress = current / totalScrollable;
            
            const translate = -progress * (panels - 1) * 100;
            panelsWrapper.style.transform = `translateX(${translate}vw)`;
            
            if (element.id === "story-horizontal") {
              const panelsArray = Array.from(element.querySelectorAll(".story-panel"));
              const activeIndex = Math.round(progress * (panels - 1));
              panelsArray.forEach((panel, idx) => {
                panel.classList.toggle("is-active", idx === activeIndex);
              });
            }
          };

          window.addEventListener("scroll", handleScroll, { passive: true });
          window.addEventListener("resize", handleScroll);
          handleScroll();
        }
      };
      
      setupHorizontalScroll(horizontalScroll);
      setupHorizontalScroll(storyHorizontal);
      
      // === 8. çµå°¾åœ–ç‰‡æ»¾å‹•æ”¾å¤§ç‰¹æ•ˆ (Scroll Zoom) ===
      const finaleImages = [
        { el: document.getElementById('finale-img-1'), container: document.querySelector('.finale-image-block[data-finale="image-decline"]') },
        { el: document.getElementById('finale-img-2'), container: document.querySelector('.finale-image-block[data-finale="image-warm"]') }
      ];

      const handleImageZoom = () => {
        finaleImages.forEach(({ el, container }) => {
          if (!el || !container) return;
          
          const containerRect = container.getBoundingClientRect();
          const viewHeight = window.innerHeight;
          
          if (containerRect.top < viewHeight && containerRect.bottom > 0) {
            const progress = 1 - (containerRect.bottom / (container.offsetHeight + viewHeight));
            const scale = 1.0 + (progress * 0.15); 
            
            el.style.transform = `scale(${Math.min(scale, 1.15)})`;
          }
        });
        requestAnimationFrame(handleImageZoom);
      };
      
      handleImageZoom();
      
      // === 9. Chart.js åˆå§‹åŒ– (æ•¸æ“šåœ–è¡¨) ===
      
      const chartRed = 'rgb(151, 12, 16)';
      const chartGold = 'rgb(255, 232, 122)';
      const chartLight = 'rgb(209, 213, 219)';

      // Chart 1: æ­Œå»³æ•¸é‡è®Šé·è¶¨å‹¢ (Chapter 3)
      const ctxTrend = document.getElementById('trendChart');
      if (ctxTrend) {
          new Chart(ctxTrend.getContext('2d'), {
              type: 'line',
              data: {
                  labels: ['1960 (èŒèŠ½)', '1970 (æ­Œå»³ç†±)', '1985 (å…¨ç››)', '1995 (è½‰è®Š)', '2010 (è¡°é€€)', '2024 (ç¾ä»Š)'],
                  datasets: [{
                      label: 'æ­Œå»³/ç´…åŒ…å ´ ä¼°è¨ˆæ•¸é‡',
                      data: [3, 15, 30, 20, 5, 1], // ä¿®æ­£ç‚º 1
                      borderColor: chartRed,
                      backgroundColor: 'rgba(151, 12, 16, 0.3)',
                      fill: true,
                      tension: 0.3,
                      pointRadius: 6,
                      pointBackgroundColor: chartGold,
                      pointBorderColor: chartRed,
                      pointBorderWidth: 2
                  }]
              },
              options: {
                  responsive: true,
                  maintainAspectRatio: false,
                  scales: {
                      y: {
                          beginAtZero: true,
                          title: { display: true, text: 'åº—å®¶æ•¸é‡ (å®¶)', color: chartLight },
                          grid: { color: 'rgba(255, 255, 255, 0.1)' },
                          ticks: { color: chartLight }
                      },
                      x: {
                          grid: { color: 'rgba(255, 255, 255, 0.1)' },
                          ticks: { color: chartLight }
                      }
                  },
                  plugins: {
                      legend: { labels: { color: chartLight } },
                      tooltip: { 
                          callbacks: {
                              afterLabel: function(context) {
                                  if (context.dataIndex === 2) return 'è‚¡å¸‚è¬é»è¡Œæƒ…ï¼Œç´…åŒ…å ´æœ€é¼ç››æ™‚æœŸ';
                                  if (context.dataIndex === 5) return 'åƒ…å­˜ï¼šé‡‘é‘½å¤§æ­Œå»³'; 
                              }
                          }
                      }
                  }
              }
          });
      }

      // Chart 2: ç´…åŒ…æ”¶å…¥çµæ§‹åœ“é¤…åœ– (Chapter 3)
      const ctxIncome = document.getElementById('incomeChart');
      if (ctxIncome) {
          new Chart(ctxIncome.getContext('2d'), {
              type: 'doughnut',
              data: {
                  labels: ['æ­Œæ‰‹ç´…åŒ…æ”¶å…¥ (åˆ†æˆå¾Œ)', 'åº—å®¶èŒ¶è³‡/é–€ç¥¨æ”¶å…¥', 'æ¨‚éšŠ/å…¶ä»–é–‹æ”¯'],
                  datasets: [{
                      data: [50, 35, 15], 
                      backgroundColor: [
                          chartGold,
                          chartRed,
                          '#555555'
                      ],
                      borderWidth: 0
                  }]
              },
              options: {
                  responsive: true,
                  maintainAspectRatio: false,
                  plugins: {
                      legend: { position: 'bottom', labels: { color: chartLight } },
                      tooltip: {
                          callbacks: {
                              label: function(context) {
                                  let label = context.label || '';
                                  if (label) label += ': ';
                                  if (context.raw) label += context.raw + '%';
                                  return label;
                              },
                              footer: function(context) {
                                  if (context[0].dataIndex === 0) return 'æ­Œæ‰‹ä¸»è¦ç”Ÿè¨ˆä¾†æºï¼Œéœ€é ç¤¾äº¤å‹å‹•ç¶­ç¹«';
                                  if (context[0].dataIndex === 1) return 'å›ºå®šæˆæœ¬ï¼Œæ­¸å ´åœ°æ‰€æœ‰';
                              }
                          }
                      }
                  }
              }
          });
      }
      
      // Chart 3: è¬è¯å€äººå£è¶¨å‹¢ (Chapter 4)
      const ctxPopulation = document.getElementById('populationChart');
      if (ctxPopulation) {
          new Chart(ctxPopulation.getContext('2d'), {
              type: 'bar',
              data: {
                  labels: ['1991 (åŸºæº–é»)', '2001 (ä¸‹æ»‘ -3.3%)', '2011 (ä¸‹æ»‘ -2.1%)', '2021 (é¡¯è‘—ä¸‹æ»‘ -8.7%)'],
                  datasets: [{
                      label: 'è¬è¯å€ç¸½äººå£æ•¸ (äºº)',
                      data: [230801, 204024, 190855, 176617],
                      backgroundColor: chartRed,
                      hoverBackgroundColor: chartGold,
                  }]
              },
              options: {
                  responsive: true,
                  maintainAspectRatio: false,
                  scales: {
                      y: {
                          title: { display: true, text: 'äººå£æ•¸ (äºº)', color: chartLight },
                          grid: { color: 'rgba(255, 255, 255, 0.1)' },
                          ticks: { color: chartLight }
                      },
                      x: {
                          grid: { color: 'rgba(255, 255, 255, 0.1)' },
                          ticks: { color: chartLight }
                      }
                  },
                  plugins: {
                      legend: { display: false },
                      tooltip: {
                          callbacks: {
                              afterLabel: function(context) {
                                  const trend = ['ç´…åŒ…å ´æ´»èºæœŸ', 'è§€çœ¾åŸºæ•¸é–‹å§‹èç¸®', 'ç”¢æ¥­é€²å…¥æ•´ä½µæœŸ', 'æ ¸å¿ƒå®¢ç¾¤æ¥µåº¦åŒ±ä¹'];
                                  return 'è¶¨å‹¢ï¼š' + trend[context.dataIndex];
                              }
                          }
                      }
                  }
              }
          });
      }

    });
  </script>
</body>
</html>
