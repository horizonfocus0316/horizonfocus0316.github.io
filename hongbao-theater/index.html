<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>台北僅存的紅包場：它如何被留下，又如何被改寫</title>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

  <style>
    /* =========================================
       1. 全站變數 (Variables)
    ========================================= */
    :root {
      --bg: #0b0b0c;
      --card: #141418;
      --text: #f4f4f5;
      --muted: #b6b6be;
      --line: #2a2a31;
      --accent: #e6c36a; /* 金色 */
      --shadow: 0 12px 30px rgba(0, 0, 0, 0.35);
    }

    * { box-sizing: border-box; }

    html, body {
      margin: 0; padding: 0;
      background: var(--bg);
      color: var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, "Noto Sans TC", sans-serif;
      overflow-x: hidden;
    }

    /* =========================================
       2. 影片開場區 (Video Hero) - 修正置中與動畫
    ========================================= */
    .video-hero {
      position: relative;
      width: 100%;
      height: 100vh;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .video-container {
      position: absolute; inset: 0; z-index: -1; background: #000;
    }

    .bg-video {
      width: 100%; height: 100%; object-fit: cover;
      opacity: 0.6;
      filter: contrast(1.1) brightness(0.8) sepia(0.2);
    }

    .video-overlay {
      position: absolute; inset: 0;
      background: linear-gradient(to bottom, rgba(0,0,0,0.1), rgba(0,0,0,0.8));
      z-index: 0;
    }

    .hero-content {
      position: relative;
      z-index: 2;
      width: 100%;
      max-width: 800px;
      padding: 20px;
      text-align: center; /* 強制置中 */
    }

    .immersive-text .line {
      font-size: clamp(22px, 3vw, 32px);
      line-height: 1.8;
      color: #fff;
      margin-bottom: 24px;
      text-shadow: 0 4px 20px rgba(0,0,0,1);
      font-weight: 500;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeUp 1.2s ease forwards;
    }

    /* 文字逐行浮現 */
    .immersive-text .line:nth-child(1) { animation-delay: 0.5s; }
    .immersive-text .line:nth-child(2) { animation-delay: 2.5s; }
    .immersive-text .line:nth-child(3) { animation-delay: 4.5s; }

    @keyframes fadeUp { to { opacity: 1; transform: translateY(0); } }

    .scroll-hint {
      position: absolute; bottom: 30px; left: 50%;
      transform: translateX(-50%);
      color: var(--accent); font-size: 14px; z-index: 10;
      animation: bounce 2s infinite;
    }
    @keyframes bounce { 0%, 100% { transform: translate(-50%, 0); } 50% { transform: translate(-50%, 10px); } }

    /* =========================================
       3. 通用版型 (Container & Cards)
    ========================================= */
    .container { width: min(1080px, calc(100% - 40px)); margin: 0 auto; }
    
    .card {
      background: var(--card); border: 1px solid var(--line);
      border-radius: 18px; box-shadow: var(--shadow); padding: 18px;
      transition: transform 0.4s ease, box-shadow 0.4s ease;
    }
    .card:hover { transform: translateY(-2px); box-shadow: 0 18px 40px rgba(0, 0, 0, 0.45); }
    .pad { padding: 18px; }

    /* 文字樣式 */
    .kicker { color: var(--accent); font-size: 12px; letter-spacing: 0.08em; text-transform: uppercase; margin-bottom: 8px; display: block;}
    .sectionTitle { font-size: 26px; margin: 10px 0 20px; color: white; letter-spacing: 0.05em; }
    .lead { color: var(--muted); font-size: 18px; line-height: 1.8; margin-top: 0; }
    .small { font-size: 14px; color: var(--muted); line-height: 1.6; }

    /* 章節間距 */
    .chapter { padding-top: 60px; margin-top: 60px; border-top: 1px solid var(--line); }
    hr.sep { border: 0; border-top: 1px solid var(--line); margin: 60px 0; }

    /* =========================================
       4. 第一章 Sticky (金小姐)
    ========================================= */
    .sticky-chapter { margin-top: 0; border-top: none; }
    .sticky-container { display: flex; gap: 40px; position: relative; margin-top: 40px; }
    .sticky-visual {
      width: 45%; height: 80vh;
      position: sticky; top: 100px;
      display: flex; flex-direction: column;
    }
    .jin-portrait {
      width: 100%; height: 100%; object-fit: cover;
      border-radius: 12px; box-shadow: 0 0 30px rgba(0, 0, 0, 0.5); border: 1px solid var(--line);
    }
    .visual-caption { margin-top: 10px; color: var(--accent); font-size: 14px; text-align: right; }
    .scroll-content { width: 55%; padding-bottom: 50px; }
    .story-block {
      min-height: 60vh; display: flex; flex-direction: column; justify-content: center;
      padding: 30px; margin-bottom: 20px;
      border-left: 1px solid var(--line); padding-left: 40px;
    }

    /* =========================================
       5. 第二章 互動卡片 + Singer Video
    ========================================= */
    /* 歌手影片區塊 */
    .video-showcase {
      margin: 40px 0; border-radius: 16px; overflow: hidden;
      position: relative; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      border: 1px solid var(--line);
    }
    .content-video { width: 100%; display: block; filter: brightness(0.9); }
    .caption-tag {
      position: absolute; bottom: 15px; left: 15px;
      background: rgba(0,0,0,0.7); color: var(--accent);
      padding: 6px 12px; font-size: 12px; border-radius: 4px; border: 1px solid var(--accent);
    }

    /* 翻轉卡片 */
    .flip-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px,1fr)); gap: 18px; margin-top: 18px; }
    .flip-card { perspective: 1000px; height: 220px; }
    .flip-inner {
      position: relative; width: 100%; height: 100%;
      transition: transform 0.7s; transform-style: preserve-3d; cursor: pointer;
    }
    .flip-card:hover .flip-inner { transform: rotateY(180deg); }
    .flip-front, .flip-back {
      position: absolute; inset: 0; backface-visibility: hidden;
      border-radius: 18px; border: 1px solid var(--line); padding: 18px;
      display: flex; flex-direction: column; justify-content: center; background: var(--card);
    }
    .flip-front h3 { font-size: 22px; margin-bottom: 6px; color: #fff; }
    .flip-back { transform: rotateY(180deg); background: #1a1a20; }

    /* =========================================
       6. 第三章 時間軸
    ========================================= */
    .timeline { margin-top: 22px; border-left: 2px solid var(--line); padding-left: 18px; display: grid; gap: 22px; }
    .timeline-item { position: relative; opacity: 0; transform: translateY(20px); transition: all 0.6s ease; }
    .timeline-item.show { opacity: 1; transform: translateY(0); }
    .timeline-item::before {
      content: ""; position: absolute; left: -11px; top: 6px;
      width: 10px; height: 10px; background: var(--accent); border-radius: 50%;
    }
    .time { font-size: 14px; color: var(--accent); display: block; margin-bottom: 6px; }

    /* =========================================
       7. 地圖樣式 (Leaflet 修正)
    ========================================= */
    .leaflet-container { background: #141418; font-family: inherit; }
    .leaflet-popup-content-wrapper, .leaflet-popup-tip { background: #141418; color: #f4f4f5; border: 1px solid #e6c36a; }

    /* =========================================
       8. 手機版 RWD
    ========================================= */
    @media (max-width: 768px) {
      .hero-content { padding: 20px; }
      .sticky-container { flex-direction: column; }
      .sticky-visual { position: relative; width: 100%; height: 300px; top: 0; margin-bottom: 30px; }
      .scroll-content { width: 100%; }
      .story-block { min-height: auto; border-left: none; padding-left: 0; margin-bottom: 40px; }
    }
  </style>
</head>

<body>

  <section class="video-hero">
    <div class="video-container">
      <video autoplay muted loop playsinline class="bg-video">
        <source src="assets/videos/bg.mp4" type="video/mp4">
        <img src="https://images.unsplash.com/photo-1604909052743-94e838986d24?auto=format&fit=crop&w=1600&q=80">
      </video>
      <div class="video-overlay"></div>
    </div>

    <div class="hero-content">
      <div class="immersive-text">
        <p class="line">午後的金鑽歌廳。</p>
        <p class="line">燈光昏黃，沿著天花板與牆邊流動。</p>
        <p class="line">在這個場域裡，文化沒有消失，只是重新調整姿態。</p>
      </div>
    </div>
    
    <div class="scroll-hint">↓ 請捲動進入場域</div>
  </section>


  <main class="container">
    
    <section class="opening-scene" style="margin-top: 80px;">
      <div class="card pad scene-card">
        <div class="kicker">紅包場融媒體專題</div>
        <h1 class="sectionTitle" style="font-size: 32px; line-height: 1.2;">台北僅存的紅包場：<br>它如何被留下，又如何被改寫</h1>
        <p class="small">
          霓虹燈反射在斑駁的天花板上，旋轉舞台緩緩轉著。這樣的味道會讓不熟悉的人本能地往後縮一步。但也在這個場域裡，我們看見一種文化並非走向終章，而是重新調整姿態。
        </p>
      </div>
    </section>

    <section class="map-section" style="margin-top: 60px; margin-bottom: 80px;">
      <div class="kicker">空間定位</div>
      <h2 class="sectionTitle">隱身在都市叢林中的舞台</h2>
      <p class="lead" style="margin-bottom: 24px;">
          如今僅存的紅包場，多數隱身於西門町漢中街一帶的老舊大樓內。外頭是熱鬧的潮流商圈，推開門卻是另一個時空。
      </p>
      <div id="map" style="height: 450px; width: 100%; border-radius: 18px; border: 1px solid var(--accent); z-index: 1;"></div>
    </section>

    <hr class="sep" />

    <section class="sticky-chapter" id="chapter-jin">
      <div class="kicker">第一章：守門人</div>
      
      <div class="sticky-container">
        <div class="sticky-visual">
          <img src="assets/images/placeholder-person.jpg" alt="金小姐" class="jin-portrait">
          <div class="visual-caption">金小姐 / 金鑽歌廳經營者</div>
        </div>

        <div class="scroll-content">
          <div class="story-block">
            <h2>舞台還亮著</h2>
            <p class="lead">「我守住的不是一個被封存在過去的場景，而是一套仍在運作的舞台系統。」</p>
            <p>金小姐第一次踏進紅包場，是因為爸爸帶她來。那時她還是表藝科學生，只覺得「可以領現金，很實在」。多年後，她回到金鑽接手經營，成為台北僅存紅包場的守門人。</p>
          </div>

          <div class="story-block">
            <h3>規則一：不能搶客</h3>
            <p>歌手不能以搶客方式破壞場內氣氛，秩序本身就是舞台能持續運作的基礎。這不是關於錢，是關於尊重。</p>
          </div>

          <div class="story-block">
            <h3>規則二：舞台要輪番</h3>
            <p>舞台需要有人輪流上場，讓觀眾感覺整晚都有節奏與流動，而不是停滯。就像一場接力賽，棒子不能掉。</p>
          </div>

          <div class="story-block">
            <h3>規則三：紅包是語言</h3>
            <p>在這裡，紅包不是單純給錢，而是一種回應與肯定。它是台下與台上唯一的溝通橋樑。</p>
          </div>
        </div>
      </div>
    </section>

    <section class="chapter" id="chapter-translation">
      <div class="kicker">第二章：視角轉換</div>
      <h2 class="sectionTitle">文化要被看懂：重新理解的入口</h2>

      <div class="video-showcase">
        <video autoplay muted loop playsinline class="content-video">
          <source src="assets/videos/singer.mp4" type="video/mp4">
        </video>
        <div class="caption-tag">舞台現場：服裝是為了回應燈光</div>
      </div>

      <p class="lead">
        對多數人而言，對紅包場的排斥感往往來自既有的想像。綠雷德形容他們做的不是保存，而是「翻譯」。
        點擊下面的卡片，看看理解是如何發生轉換的。
      </p>

      <div class="flip-grid">
        <div class="flip-card">
          <div class="flip-inner">
            <div class="flip-front">
              <h3>煙味</h3>
              <p>第一印象往往讓人卻步</p>
            </div>
            <div class="flip-back">
              <h3>氣味是門檻</h3>
              <p>排斥並非道德判斷，而是感官不適。若觀眾一進門就受不了，文化根本沒有被理解的機會。</p>
            </div>
          </div>
        </div>

        <div class="flip-card">
          <div class="flip-inner">
            <div class="flip-front">
              <h3>情色</h3>
              <p>被簡化的標籤</p>
            </div>
            <div class="flip-back">
              <h3>表演與互動</h3>
              <p>多數表演並非情色，而是一套舞台與觀眾之間的互動秩序。標籤往往遮蔽了實際運作的樣貌。</p>
            </div>
          </div>
        </div>

        <div class="flip-card">
          <div class="flip-inner">
            <div class="flip-front">
              <h3>老派</h3>
              <p>屬於上一代的文化</p>
            </div>
            <div class="flip-back">
              <h3>仍在變動</h3>
              <p>紅包場並非停留在過去，而是在不同世代的參與下持續調整節奏與形式。</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="chapter" id="chapter-timeline">
      <div class="kicker">第三章：城市重生</div>
      <h2 class="sectionTitle">紅包場如何回到公共視野</h2>
      <p class="lead">以下事件，讓紅包場從邊緣回到公共討論，這正是「再現與新生」的意義所在。</p>

      <div class="timeline">
        <div class="timeline-item">
          <span class="time">2023</span>
          <div class="timeline-content card pad">
            <h3>《萬華時光・再現與新生》計畫啟動</h3>
            <p>北市文化局以戲劇、走讀、市集等形式，將長期被忽視的生活文化重新帶入公共視野。</p>
          </div>
        </div>

        <div class="timeline-item">
          <span class="time">2024</span>
          <div class="timeline-content card pad">
            <h3>沉浸式劇場進駐金鑽歌廳</h3>
            <p>劇場直接在紅包場內演出，觀眾坐在原本的座位，體驗舞台、音樂與場域交織的敘事。</p>
          </div>
        </div>

        <div class="timeline-item">
          <span class="time">2024</span>
          <div class="timeline-content card pad">
            <h3>跨世代演唱會於西門紅樓前廣場舉行</h3>
            <p>紅包場元素被搬到戶外公共空間，家庭、年輕觀眾與原有客群首次在同一場域相遇。</p>
          </div>
        </div>
      </div>
    </section>

    <section class="chapter" id="chapter-ending" style="border:none; padding-bottom:100px;">
      <h2 class="sectionTitle">不是告別，而是轉身</h2>
      <p class="lead">紅包場或許不再是上一代記憶中的樣子，但它仍然活著——在舞台上、在語言裡、也在新的觀眾之中，以它自己的節奏，持續在城市裡運作。</p>
      <p class="lead" style="color:var(--accent); margin-top:30px;">這不是謝幕，而是轉身。</p>
    </section>

    <footer class="small" style="padding-bottom: 40px; text-align: center; opacity: 0.6;">
      © <span id="y"></span> 紅包場融媒體專題
    </footer>

  </main>

  <script>
    // 1. 年份自動更新
    document.getElementById("y").textContent = new Date().getFullYear();

    // 2. Leaflet 地圖設定
    var map = L.map('map', {
        center: [25.0435, 121.5075], 
        zoom: 16.5,
        scrollWheelZoom: false,
        zoomControl: true
    });
    L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
        attribution: '&copy; OpenStreetMap &copy; CARTO',
        subdomains: 'abcd', maxZoom: 20
    }).addTo(map);
    var goldIcon = L.divIcon({
        className: 'custom-div-icon',
        html: "<div style='background-color:#e6c36a; width: 16px; height: 16px; border-radius: 50%; border: 3px solid rgba(230, 195, 106, 0.4); box-shadow: 0 0 15px #e6c36a;'></div>",
        iconSize: [20, 20], iconAnchor: [10, 10]
    });
    L.marker([25.04426, 121.50735], {icon: goldIcon}).addTo(map)
        .bindPopup('<b>金鑽歌廳</b><br>隱身於大樓中的演藝舞台。')
        .openPopup();

    // 3. 時間軸捲動觸發
    const items = document.querySelectorAll(".timeline-item");
    const revealOnScroll = () => {
      const triggerBottom = window.innerHeight * 0.85;
      items.forEach(item => {
        const rect = item.getBoundingClientRect().top;
        if(rect < triggerBottom) item.classList.add("show");
      });
    };
    window.addEventListener("scroll", revealOnScroll);
    revealOnScroll();
  </script>

</body>
</html>
